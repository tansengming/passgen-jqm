%div{:'data-role' => 'page'}
  %div{:'data-role' => 'header'}
    %h1
      Password Generator
  %div{:'data-role' => 'content'}
    This is the jQuery Mobile version of
    %a{:href => 'http://angel.net/~nic/passwd.html', :rel => 'external'}
      Nic Wolff's Password Generator
    %form#password-form{:'data-ajax' => 'false'}
      .ui-hide-label{:'data-role' => 'fieldcontain'}
        %p
          %label{:for => 'password'}
            Master Password
          %input#password{:type => 'password', :name => 'password', :placeholder => 'Master Password'}
        %p
          %label{:for => 'sitename'}
            Site Name
          %input#sitename{:type => 'text', :name => 'sitename', :placeholder => 'Site Name'}
        %p
          %input{:type => 'submit', :value => 'Generate'}
        %p
          %input#hash{:type => 'text', :name => 'hash', :placeholder => 'Generated Hash'}
:javascript
  $('#password-form').submit(function() {
    password = $(this).find('#password').val();
    sitename = $(this).find('#sitename').val();
    hash_value = hex_md5(password + ':' + sitename).substr(0,8);
    $(this).find('#hash').val(hash_value).focus();
    return false;
  });